<?php
defined('BASEPATH') or exit('No direct script access allowed');
class M_register extends CI_Model
{

	function user_register()
	{
		array_walk_recursive($_POST, 'trim');
		extract($_POST);
		// die(json_encode($country_phoneCode));
		$country = '+' . $country_phoneCode;

		if ($name && $email && $mobile && $password && $confirm_Password && $country) {
			if ($password != $confirm_Password) {
				return ['type' => 'error', 'text' => 'Password & Confirm Password should be same!'];
			}
			if (!is_numeric($mobile) || strlen($mobile) < 8) {
				return ['type' => 'error', 'text' => 'Mobile Number should be at least 8 digit numeric!'];
			}
			$verified = $this->db->where('email', $email)->where('subscribe_verify', 'inactive')->count_all_results('users');
			if ($verified > 0) {
				return ['type' => 'warning', 'text' => 'It seems you already registerd but not verified, Please <a href="' . site_url('/') . 'register/verify/?email=' . $email . '">Verify</a>!', 'small' => 'It seems you already registerd but not verified, Please <a href="' . site_url('/') . 'register/verify/?email=' . $email . '">Verify</a>!'];
			}
			$exist = $this->db->where('email', $email)->get('users')->row_array();
			if ($exist) {
				return ['type' => 'error', 'text' => 'This Email already taken!'];
			}
			$exist1 = $this->db->where('mobile', $mobile)->get('users')->row_array();
			if ($exist1) {
				return ['type' => 'error', 'text' => 'This Mobile Number already taken!'];
			}

			// Generate 6 digit OTP
			$otp = mt_rand(111111, 999999);

			$register_data = [
				'name' => $name,
				'email' => $email,
				'mobile' => $mobile,
				'country_code' => $country,
				'password' => sha1($password),
				'subscribe_verify' => 'inactive',
				'otp' => $otp,
				'created_at' => date('Y-m-d H:i:s'),
			];

			if ($this->db->insert('users', $register_data)) {
				$this->reg_email_otp($email, $otp);
				$user_id = $this->db->insert_id();
				$this->db->where('id', $user_id)->update('users', ['created_by' => $user_id]);
				return ['type' => 'info', 'text' => 'Please enter the OTP to complete registration process!'];
			}
			return ['type' => 'error', 'text' => 'Registration Failed!'];
		}
		return ['type' => 'error', 'text' => 'All fields are required!'];
	}

	function verify_otp()
	{
		array_walk_recursive($_POST, 'trim');
		array_walk_recursive($_POST, 'xss_clean');
		extract($_POST);
		if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
			return ['type' => 'error', 'text' => 'Opps! Problem with email id'];
		}

		$record_info = $this->db
			->select('otp')
			->where('email', $email)
			->get('users')
			->row();
		if ($record_info->otp != $reg_verify_otp) {
			return ['type' => 'error', 'text' => 'OTP mismatched!'];
		}

		$register_data = [
			'subscribe_verify' => 'active',
			'otp' => '',
			'updated_at' => date('Y-m-d H:i:s'),
		];
		$this->db->where('email', $email);
		if ($this->db->update('users', $register_data)) {
			$record_infos = $this->db
				->select('*')
				->where('email', $email)
				->get('users');
			$this->session->set_userdata($record_infos->row_array() + ['user_type' => 'user'] + ['popup' => 'true']);
			return ['type' => 'success', 'text' => 'Otp verification complete, You are now being redirected to complete your profile.'];
		}
		return ['type' => 'error', 'text' => 'Opps! Server Error Occured'];
	}
	function resend_verify_otp()
	{
		array_walk_recursive($_POST, 'trim');
		array_walk_recursive($_POST, 'xss_clean');
		extract($_POST);
		if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
			return ['type' => 'error', 'text' => 'Opps! Problem with email id'];
		}

		// Generate 6 digit OTP
		$otp = mt_rand(111111, 999999);

		$register_data = [
			'subscribe_verify' => 'inactive',
			'otp' => $otp,
			'updated_at' => date('Y-m-d H:i:s'),
		];
		$this->db->where('email', $email);
		if ($this->db->update('users', $register_data)) {
			$this->reg_email_otp($email, $otp);
			return ['type' => 'info', 'text' => 'Otp resend sent to your email id'];
		}
		return ['type' => 'error', 'text' => 'Opps! Server Error Occured'];
	}

	function reg_email_otp($email, $otp)
	{
		// Get the user details of that email
		$userinfo = $this->db->where('email', $email)->get('users')->row();
		$this->load->helper('email');
		// Sending Register Email OTP
		$href = site_url('register/verify/?email=' . $email . '&otp=' . $otp);
		$logo = site_url('assets/images/DiraLeads_Logo.png');
		$body = '<html xmlns="http://www.w3.org/1999/xhtml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:v="urn:schemas-microsoft-com:vml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta content="width=device-width" name="viewport"/><meta content="IE=edge" http-equiv="X-UA-Compatible"/><title></title><link rel="stylesheet" type="text/css" href="' . site_url('assets/css/mail.css') . '"></head><body class="clean-body"><table bgcolor="#f1f6f9" cellpadding="0" cellspacing="0" style="vertical-align: top; min-width: 320px; margin: 0 auto; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; background-color: #f1f6f9; width: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td style="word-break: break-word; vertical-align: top;" valign="top"><div style="background-color:#200f40;"><div class="block-grid" style="margin: 0 auto; min-width: 320px; max-width: 640px; overflow-wrap: break-word; word-wrap: break-word; word-break: break-word; background-color:transparent;"><div style="border-collapse: collapse;display: table;width: 100%;background-color:#7E87A8;"><div class="col num12" style="min-width: 320px; max-width: 640px; display: table-cell; vertical-align: top; width: 640px;"><div style="width:100% !important;"><div style="border-top:0px solid transparent; border-left:0px solid transparent; border-bottom:0px solid transparent; border-right:0px solid transparent; padding-top:0px; padding-bottom:0px; padding-right: 0px; padding-left: 0px;"><table border="0" cellpadding="0" cellspacing="0" class="divider" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td class="divider_inner" style="word-break: break-word; vertical-align: top; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px;" valign="top"><table align="center" border="0" cellpadding="0" cellspacing="0" class="divider_content" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; border-top: 4px solid #200F40; width: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td style="word-break: break-word; vertical-align: top; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top"><span></span></td></tr></tbody></table></td></tr></tbody></table><table border="0" cellpadding="0" cellspacing="0" class="divider" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td class="divider_inner" style="word-break: break-word; vertical-align: top; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px;" valign="top"><table align="center" border="0" cellpadding="0" cellspacing="0" class="divider_content" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; border-top: 5px solid #95702A; width: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td style="word-break: break-word; vertical-align: top; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top"><span></span></td></tr></tbody></table></td></tr></tbody></table></div></div></div></div></div></div><div style="background-color:#f1f6f9;"><div class="block-grid" style="margin: 0 auto; min-width: 320px; max-width: 640px; overflow-wrap: break-word; word-wrap: break-word; word-break: break-word; background-color: transparent;"><div style="border-collapse: collapse;display: table;width: 100%;background-color:transparent;"><div class="col num12" style="min-width: 320px; max-width: 640px; display: table-cell; vertical-align: top; width: 640px;"><div style="width:100% !important;"><div style="border-top:0px solid transparent; border-left:0px solid transparent; border-bottom:0px solid transparent; border-right:0px solid transparent; padding-top:0px; padding-bottom:0px; padding-right: 0px; padding-left: 0px;"><div align="center" class="img-container center fixedwidth" style="padding-right: 0px;padding-left: 0px;"><div style="font-size:1px;line-height:15px"> </div><a href="' . site_url() . '" style="outline:none" tabindex="-1" target="_blank"> <img align="center" alt="DiraLeads Logo" border="0" class="center fixedwidth" src="' . $logo . '" style="text-decoration: none; -ms-interpolation-mode: bicubic; height: auto; border: 0; width: 100%; max-width: 224px; display: block; padding-top: 20px;" title="DiraLeads Logo" width="224"/></a><div style="font-size:1px;line-height:15px"> </div></div> </div> </div></div> </div></div></div><table class="divider_content" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; border-top: 30px solid #F1F6F9; width: 100%;" valign="top" width="100%" cellspacing="0" cellpadding="0" border="0" align="center"><tbody><tr style="vertical-align: top;" valign="top"><td style="word-break: break-word; vertical-align: top; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top"><span></span></td></tr></tbody></table><div style="background-color:transparent;"><div class="block-grid" style="border-radius: 30px; margin: 0 auto; min-width: 320px; max-width: 640px; overflow-wrap: break-word; word-wrap: break-word; word-break: break-word; background-color: #ffffff;"><div style="border-radius: 30px; border-collapse: collapse;display: table;width: 100%;background-color:transparent;"><div class="col num12" style="min-width: 320px; max-width: 640px; display: table-cell; vertical-align: top; width: 640px;"><div style="width:100% !important;"><div style="border-top:0px solid transparent; border-left:0px solid transparent; border-bottom:0px solid transparent; border-right:0px solid transparent; padding-top:0px; padding-bottom:0px; padding-right: 0px; padding-left: 0px;"> <div style="color:#200f40;font-family:Montserrat, Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif;line-height:1.2;padding-top:30px;padding-right:40px;padding-bottom:20px;padding-left:40px;"><div style="line-height: 1.2; font-size: 12px; color: #200f40; font-family: Montserrat, Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif; mso-line-height-alt: 14px;"><p style="font-size: 30px; line-height: 1.2; text-align: center; word-break: break-word; mso-line-height-alt: 36px; margin: 0;"><span style="font-size: 30px; color: #200f40;"><strong>Verify Your Email Address</strong></span></p></div></div><div style="color:#200f40;font-family:Montserrat, Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif;line-height:1.5;padding-top:10px;padding-right:40px;padding-bottom:30px;padding-left:40px;"><div style="line-height: 1.5; font-size: 12px; font-family: Montserrat, Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif; color: #200f40; mso-line-height-alt: 18px;"><p style="font-size: 18px; line-height: 1.5; text-align: center; word-break: break-word; font-family: inherit; mso-line-height-alt: 27px; margin: 0;"><span style="color: #200f40; font-size: 18px;"><span style="font-size: 22px;">Hi ' . $userinfo->name . '</span></span></p><p style="font-size: 18px; line-height: 1.5; text-align: center; word-break: break-word; font-family: inherit; mso-line-height-alt: 27px; margin: 0;"><span style="color: #200f40; font-size: 18px;"><span style="font-size: 17px; mso-ansi-font-size: 18px;">To complete registration click on the button below and click Verify</span><br/></span></p></div></div><div align="center" class="button-container" style="padding-top:15px;padding-right:10px;padding-bottom:0px;padding-left:10px;"><div style="text-decoration:none;display:inline-block;color:#ffffff;background-color:#95702a;border-radius:60px;-webkit-border-radius:60px;-moz-border-radius:60px;width:auto; width:auto;;border-top:1px solid #95702a;border-right:1px solid #95702a;border-bottom:1px solid #95702a;border-left:1px solid #95702a;padding-top:10px;padding-bottom:10px;font-family:Montserrat, Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif;text-align:center;mso-border-alt:none;word-break:keep-all;"><a style="color: #ffffff;text-decoration: none;" href="' . $href . '"><span style="padding-left:30px;padding-right:30px;font-size:16px;display:inline-block;"><span style="font-size: 16px; margin: 0; line-height: 2; word-break: break-word; mso-line-height-alt: 32px;"><strong>Confirm Your Email</strong></span></span></a></div></div><table border="0" cellpadding="0" cellspacing="0" class="divider" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td class="divider_inner" style="word-break: break-word; vertical-align: top; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; padding-top: 30px; padding-right: 0px; padding-bottom: 10px; padding-left: 0px;" valign="top"><table align="center" border="0" cellpadding="0" cellspacing="0" class="divider_content" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; border-top: 0px solid #BBBBBB; width: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td style="word-break: break-word; vertical-align: top; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top"><span></span></td></tr></tbody></table></td></tr></tbody></table> </div> </div></div> </div></div></div><div style="background-color:#f1f6f9;"><div class="block-grid" style="margin: 0 auto; min-width: 320px; max-width: 640px; overflow-wrap: break-word; word-wrap: break-word; word-break: break-word; background-color:transparent;"><div style="border-collapse: collapse;display: table;width: 100%;background-color:transparent;"><div class="col num12" style="min-width: 320px; max-width: 640px; display: table-cell; vertical-align: top; width: 640px;"><div style="width:100% !important;"><div style="border-top:0px solid transparent; border-left:0px solid transparent; border-bottom:0px solid transparent; border-right:0px solid transparent; padding-top:0px; padding-bottom:0px; padding-right: 0px; padding-left: 0px;"><table border="0" cellpadding="0" cellspacing="0" class="divider" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td class="divider_inner" style="word-break: break-word; vertical-align: top; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px;" valign="top"><table align="center" border="0" cellpadding="0" cellspacing="0" class="divider_content" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; border-top: 30px solid #F1F6F9; width: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td style="word-break: break-word; vertical-align: top; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top"><span></span></td></tr></tbody></table></td></tr></tbody></table><table border="0" cellpadding="0" cellspacing="0" class="divider" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td class="divider_inner" style="word-break: break-word; vertical-align: top; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px;" valign="top"><table align="center" border="0" cellpadding="0" cellspacing="0" class="divider_content" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; border-top: 3px solid transparent; width: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td style="word-break: break-word; vertical-align: top; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top"><span></span></td></tr></tbody></table></td></tr></tbody></table><div style="font-size:16px;text-align:center;font-family:Montserrat, Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"><table cellpadding="0" cellspacing="0" class="sc-gPEVay eQYmiW" style="vertical-align: -webkit-baseline-middle; font-size: large; font-family: Arial; min-width: 450px; margin-left: auto; margin-right: auto;"><tbody><tr style="text-align: center;"><td><h3 class="sc-fBuWsC eeihxG" style="margin: 0px; font-size: 20px; color: #200f40;">DiraLeads </h3><p class="sc-fMiknA bxZCMx" style="margin: 0px; color: #200f40; font-size: 16px; line-height: 24px;">Linking Owners And Renters</p></td></tr><tr><td><table cellpadding="0" cellspacing="0" class="sc-gPEVay eQYmiW" style="vertical-align: -webkit-baseline-middle; font-size: large; font-family: Arial; width: 100%;"><tbody><tr><td height="20"> </td></tr><tr><td class="sc-jhAzac hmXDXQ" height="1" style="width: 100%; border-bottom: 2px solid #95702a; border-left: none; display: block;"> </td></tr><tr><td height="20"> </td></tr></tbody></table><table cellpadding="0" cellspacing="0" class="sc-gPEVay eQYmiW" style="vertical-align: -webkit-baseline-middle; font-size: large; font-family: Arial; width: 100%;"><tbody><tr style="vertical-align: middle;"><td class="mobile-text-cls"><table cellpadding="0" cellspacing="0" class="sc-gPEVay eQYmiW" style="vertical-align: -webkit-baseline-middle; font-size: large; font-family: Arial;"><tbody><tr style="vertical-align: middle;"><td style="vertical-align: middle;" width="30"><table cellpadding="0" cellspacing="0" class="sc-gPEVay eQYmiW" style="vertical-align: -webkit-baseline-middle; font-size: large; font-family: Arial;"><tbody><tr><td style="vertical-align: bottom;"><span class="sc-jlyJG bbyJzT" style="display: block; background-color: #95702a;"><img class="sc-iRbamj blSEcj" src="https://cdn2.hubspot.net/hubfs/53/tools/email-signature-generator/icons/phone-icon-2x.png" style="display: block; background-color: #95702a;" width="13"/></span></td></tr></tbody></table></td><td style="padding: 0px; color: #200f40; text-align: left;"><a class="sc-gipzik iyhjGb" href="tel:7183134643" style="text-decoration: none; color: #200f40; font-size: 12px;">7183134643</a></td></tr><tr style="vertical-align: middle;"><td style="vertical-align: middle;" width="30"><table cellpadding="0" cellspacing="0" class="sc-gPEVay eQYmiW" style="vertical-align: -webkit-baseline-middle; font-size: large; font-family: Arial;"><tbody><tr><td style="vertical-align: bottom;"><span class="sc-jlyJG bbyJzT" style="display: block; background-color: #95702a;"><img class="sc-iRbamj blSEcj" src="https://cdn2.hubspot.net/hubfs/53/tools/email-signature-generator/icons/email-icon-2x.png" style="display: block; background-color: #95702a;" width="13"/></span></td></tr></tbody></table></td><td style="padding: 0px; text-align: left;"><a class="sc-gipzik iyhjGb" href="mailto:rentals@diraleads.com" style="text-decoration: none; color: #200f40; font-size: 12px;">rentals@diraleads.com</a></td></tr><tr style="vertical-align: middle;"><td style="vertical-align: middle;" width="30"><table cellpadding="0" cellspacing="0" class="sc-gPEVay eQYmiW" style="vertical-align: -webkit-baseline-middle; font-size: large; font-family: Arial;"><tbody><tr><td style="vertical-align: bottom;"><span class="sc-jlyJG bbyJzT" style="display: block; background-color: #95702a;"><img class="sc-iRbamj blSEcj" src="https://cdn2.hubspot.net/hubfs/53/tools/email-signature-generator/icons/link-icon-2x.png" style="display: block; background-color: #95702a;" width="13"/></span></td></tr></tbody></table></td><td style="padding: 0px; text-align: left;"><a class="sc-gipzik iyhjGb" href="//diraleads.com" style="text-decoration: none; color: #200f40; font-size: 12px;">diraleads.com</a></td></tr></tbody></table></td><td><table cellpadding="0" cellspacing="0" class="sc-gPEVay eQYmiW" style="vertical-align: -webkit-baseline-middle; font-size: large; font-family: Arial; width: 100%;"><tbody><tr><td><img class="sc-cHGsZl bHiaRe" src="' . $logo . '" style="max-width: 130px; display: inline-block;" width="130"/></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></div> </div> </div></div> </div></div></div><div style="background-color:transparent;"><div class="block-grid" style="margin: 0 auto; min-width: 320px; max-width: 640px; overflow-wrap: break-word; word-wrap: break-word; word-break: break-word; background-color:transparent;"><div style="border-collapse: collapse;display: table;width: 100%;background-color:transparent;"><div class="col num12" style="min-width: 320px; max-width: 640px; display: table-cell; vertical-align: top; width: 640px;"><div style="width:100% !important;"><div style="border-top:0px solid transparent; border-left:0px solid transparent; border-bottom:0px solid transparent; border-right:0px solid transparent; padding-top:0px; padding-bottom:0px; padding-right: 0px; padding-left: 0px;"><table border="0" cellpadding="0" cellspacing="0" class="divider" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td class="divider_inner" style="word-break: break-word; vertical-align: top; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; padding-top: 15px; padding-right: 0px; padding-bottom: 15px; padding-left: 0px;" valign="top"><table align="center" border="0" cellpadding="0" cellspacing="0" class="divider_content" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; border-top: 0px solid #FFFFFF; width: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td style="word-break: break-word; vertical-align: top; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top"><span></span></td></tr></tbody></table></td></tr></tbody></table> </div> </div></div> </div></div></div><div style="background-color:#200f40;"><div class="block-grid" style="margin: 0 auto; min-width: 320px; max-width: 640px; overflow-wrap: break-word; word-wrap: break-word; word-break: break-word; background-color: transparent;"><div style="border-collapse: collapse;display: table;width: 100%;background-color:transparent;"><div class="col num12" style="min-width: 320px; max-width: 640px; display: table-cell; vertical-align: top; width: 640px;"><div style="width:100% !important;"><div style="border-top:0px solid transparent; border-left:0px solid transparent; border-bottom:0px solid transparent; border-right:0px solid transparent; padding-top:0px; padding-bottom:0px; padding-right: 0px; padding-left: 0px;"><table border="0" cellpadding="0" cellspacing="0" class="divider" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td class="divider_inner" style="word-break: break-word; vertical-align: top; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px;" valign="top"><table align="center" border="0" cellpadding="0" cellspacing="0" class="divider_content" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; border-top: 5px solid #95702A; width: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td style="word-break: break-word; vertical-align: top; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top"><span></span></td></tr></tbody></table></td></tr></tbody></table><table border="0" cellpadding="0" cellspacing="0" class="divider" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td class="divider_inner" style="word-break: break-word; vertical-align: top; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px;" valign="top"><table align="center" border="0" cellpadding="0" cellspacing="0" class="divider_content" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; border-top: 4px solid #200F40; width: 100%;" valign="top" width="100%"><tbody><tr style="vertical-align: top;" valign="top"><td style="word-break: break-word; vertical-align: top; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top"><span></span></td></tr></tbody></table></td></tr></tbody></table> </div> </div></div> </div></div></div> </td></tr></tbody></table></body></html>';
		send_email(
			$email,
			'Diraleads Register Email Verify',
			$body
		);
	}
}
